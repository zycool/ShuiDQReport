一、准备基础数据
    1、去极值（并不是删除异常数据或离群数据，而是将这些数据“处理”到正常范围），常用三种办法：
        A、分位数去极值；
        B、中位数绝对偏差去极值；
        C、正态分布去极值；
        实盘中推荐采用A办法，A方法又可以分位4分位/10分位/百分位...N分位；
        有的策略中会采用固定的百分位，并且通过设置百分位阈值来重置极值；
        个人推荐采用N分位，即对因子的实际值进行N分位的排序值替换，那么任意交易日任意股票的任意因子值区间都在【0，1】。
    2、标准化
        为什么要标准化？
        数据的标准化，是通过一定的数学变换方式，将原始数据按照一定的比例进行转换，使之落入到一个小的特定区间内，
        例如0~1或-1~1的区间内，消除不同变量之间性质、量纲、数量级等特征属性的差异，将其转化为一个无量纲的相对数值，也就是标准化数值，
        使各指标的数值都处于同一个数量级别上，从而便于不同单位或数量级的指标能够进行综合分析和比较。
        实盘中主要用到 sklearn.preprocessing.StandardScaler 进行标准化，也有用对数函数处理的，具体看情况。
    3、市值中性化处理
        许多因子计算时都会用市值做分子（或分母），所以在利用这些因子计算前要对其剔除掉市值影响部分。
        对于某受市值影响的因子y：一般使用回归 y = a*x+b 法，来去除市值影响；其中x为市值因子，回归残差值即可理解为新的因子值（因子提纯）。
    4、因子挖掘
        第一步海选：从N个因子中筛选出对股票收益有影响的部分因子为n;
        第二步分类：对n个因子进行相关性分类，合并相关性强的因子，分为M类；
        第三步精选：在M类中再次做有效性、相关性筛选，精选出有效性高、相关性弱的因子m个；
        说明一：N > n > M > m，N有可能成千上万,m一般都在10以下。
        说明二：精选一般会放在“多因子组合”中进行动态选择。

二、单因子有效性检验
    1、IC
    2、IR
    3、因子方向
    4、因子收益率分析

三、多因子组合
    1、多因子相关性分析
        一般通过正交来降低相关性
    2、因子合并

四、因子权重计算
    1、打分法
    2、回归法
    3、综合得分法

五、得出组合及其排序

六、回测
    1、调仓周期